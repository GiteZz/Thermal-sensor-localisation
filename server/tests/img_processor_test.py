# from help_module.csv_helper import read_data
# from help_module.img_processing_helper import ImageProcessor
# import matplotlib.pyplot as plt
'''
this test file contains an absolute path, please change this path to test the module on your pc
'''

# num=300
# data=read_data(r'C:\Users\Thomas\Documents\School\VOP\VOP\server\data_vis\files\sensor_data_episode_20190221-143435_0.csv',0,502)
# #manually selected empty frames of this episode
# img_processor=ImageProcessor()
# print(data[num][0])
# plt.subplot(2,1,1).pcolor(data[num][0].reshape((24,32)))
# img_processor.process(data[num][0])
# res=img_processor.plot_frame()
# plt.subplot(2,1,2).imshow(res)
#
# plt.show()


from localization.processing import ImageProcessor
from help_module.img_helper import fast_thermal_image
import cv2

pros = ImageProcessor()

thermal_data = [21,21,21,21,21,21,21,21,21,21,21,21,21,21,23,21,22,21,23,22,23,22,21,21,22,22,22,22,22,23,22,22,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,23,22,24,22,24,22,22,21,21,22,22,22,22,23,22,22,22,21,22,21,21,21,21,21,21,21,21,22,21,22,22,24,22,25,22,26,24,23,23,22,22,22,22,22,22,22,23,22,22,22,22,21,22,21,21,21,21,21,22,22,22,22,22,23,24,23,26,24,25,24,22,22,22,22,22,22,22,23,23,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,25,25,24,26,22,24,22,22,22,23,22,22,23,23,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,26,24,26,23,25,22,22,22,23,22,23,23,23,22,22,22,22,23,23,22,22,22,22,22,23,22,24,23,25,23,22,22,22,25,23,26,22,23,22,22,22,23,22,22,23,23,23,22,22,23,22,22,23,22,22,23,23,24,23,25,24,25,22,23,24,22,26,22,24,22,22,22,23,23,23,23,23,23,22,23,22,23,23,23,23,23,23,23,24,24,25,24,26,25,24,23,22,22,23,23,23,23,22,22,23,24,24,23,23,23,23,23,23,23,23,23,23,23,22,23,24,24,24,27,26,27,24,23,23,22,23,22,22,22,22,22,23,23,24,23,23,23,23,23,23,23,23,23,23,23,23,23,25,24,27,24,28,27,24,23,22,23,22,23,22,22,22,22,23,23,23,23,23,23,23,22,23,23,23,23,23,23,23,23,25,24,25,27,27,26,25,23,23,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,22,23,22,25,23,27,24,28,22,23,22,23,22,23,22,23,22,22,23,23,23,23,23,24,23,23,23,23,23,23,23,22,23,22,24,22,25,23,28,23,23,22,23,22,22,22,23,23,23,23,23,23,23,23,24,23,23,23,22,22,23,23,23,23,22,23,22,23,22,25,22,24,22,22,23,23,23,23,23,23,24,24,25,24,24,24,24,24,23,23,23,23,22,22,23,22,22,22,23,22,23,22,24,23,23,22,23,23,22,22,23,23,24,25,26,25,24,23,24,24,23,23,22,23,22,22,22,23,22,22,22,22,22,23,22,23,22,23,23,22,23,23,23,23,25,26,26,26,24,24,23,24,23,23,23,23,22,22,23,22,22,22,22,22,22,22,22,23,22,23,23,23,23,23,23,23,24,25,26,26,25,25,24,23,23,23,22,23,22,23,23,23,23,22,22,22,22,22,22,23,23,23,24,25,24,23,23,23,23,23,25,27,27,26,24,24,23,23,23,22,23,23,24,25,23,22,22,22,22,23,22,23,23,23,25,25,24,23,23,23,23,23,24,25,25,24,24,23,24,23,22,23,23,23,24,24,22,23,22,22,22,22,23,23,23,23,23,23,23,23,24,25,24,23,24,24,24,24,24,24,23,22,23,23,23,22,23,23,23,23,22,22,22,22,23,22,23,22,23,23,23,23,26,26,24,24,25,25,24,24,24,24,22,22,22,23,22,23,23,23,22,23,22,22,22,22,23,23,22,22,23,23,23,23,24,25,23,24,24,24,23,24,23,23,22,21,22,23,23,23,23,23,22,22,22,23,22,22,23,22,22,22,23,23,23,23,24,24,24,23,24,24,23,23,23,23,22,21]

pros.set_thermal_data(thermal_data)
centroids = pros.get_centroids()
# pros.plot_centroids()
img = pros.plot_centroids()

cv2.imshow('image', pros.plot_centroids())

cv2.waitKey(0)
print(centroids)